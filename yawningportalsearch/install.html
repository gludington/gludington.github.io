<html>
<head>
  <title>Yawning Portal Search</title>
  </head>
  <body>
    <h1>Yawning Portal Search</h1>
    <p>To install, drag this link <a href="javascript:(function()%7Bif(null%3D%3D%3Ddocument.getElementById(%22_eventSearchForm%22))%7Bvar%20g%3Dfunction(e)%7Bvar%20a%3Ddocument.createElement(%22select%22)%2Cb%3Ddocument.createElement(%22option%22)%3Bb.value%3D%22%22%3Bb.innerText%3D%22Any%22%3Ba.appendChild(b)%3Be.forEach(function(k)%7Bvar%20f%3Ddocument.createElement(%22option%22)%3Bf.value%3Dk%3Bf.innerText%3Dk%3Ba.appendChild(f)%7D)%3Breturn%20a%7D%2CB%3D%2F.*(roll20%7Cfoundry%7Czoom%7Cdiscord%7Cowlbear%7Cfantasy%20grounds).*%2Fi%2Cx%3Ddocument.getElementsByClassName(%22event-list%22)%5B0%5D%2Cy%3DArray.from(x.children)%2Cn%3D%7B%7D%2Cp%3D%7B%7D%2Cq%3D%7B%7D%3By.forEach(function(e)%7Be._soldOut%3D-1%3Ce.innerHTML.indexOf(%22SOLD%20OUT%22)%3Bvar%20a%3De.children%5B0%5D.children%5B0%5D.children%5B0%5D.children%5B1%5D.children%5B1%5D.textContent%3Bconsole.error(a)%3Bif(a)%7Bvar%20b%3Da.split(%22%20-%20%22)%3Ba%3D%5B%5D%3Bfor(var%20k%3D%5B%5D%2Cf%3D!1%2Cd%3Db.length-1%3B0%3Cd%3Bd--)0%3D%3Df%3F(k.unshift(b%5Bd%5D)%2CB.test(b%5Bd%5D)%26%26(f%3D!0))%3Aa.unshift(b%5Bd%5D)%3Bb%3Da.join(%22%20-%20%22)%3Bf%3Dk.join(%22%20-%20%22)%3Bconsole.error(%22TITLES%22%2Cb%2Ca)%3Bconsole.error(%22vtts%22%2Cf%2Ck)%3Bn%5Bb%5D%3D1%3Be._gameTitle%3Db%3Bp%5Bf%5D%3D1%3Be._vtt%3Df%7Dvar%20z%2CA%3BArray.from(e.getElementsByClassName(%22MuiChip-label%22)).forEach(function(r)%7B-1%3D%3Dr.textContent.indexOf(%22AL%22)%26%26(-1%3Cr.textContent.indexOf(%22day%22)%3Fz%3Dr.textContent%3AA%3Dr.textContent)%7D)%3Ba%3Dz%2B%22%20%22%2BA%3Bq%5Ba%5D%3D1%3Be._start%3Da%7D)%3Bvar%20l%3Dfunction()%7Bvar%20e%3Dt.value.toLowerCase()%2Ca%3Du.options%5Bu.selectedIndex%5D.value%2Cb%3Dv.options%5Bv.selectedIndex%5D.value%2Ck%3Dw.options%5Bw.selectedIndex%5D.value%2Cf%3Dm.checked%3By.forEach(function(d)%7B!(%22%22%3D%3D%3De%7C%7C-1%3Cd.innerHTML.toLowerCase().indexOf(e))%7C%7C!0%3D%3D%3Df%26%26!0%3D%3D%3Dd._soldOut%7C%7C%22%22!%3D%3Da%26%26d._gameTitle!%3D%3Da%7C%7C%22%22!%3D%3Dk%26%26d._start!%3D%3Dk%7C%7C%22%22!%3D%3Db%26%26d._vtt!%3D%3Db%3Fd.style.display%3D%22none%22%3Ad.style.display%3D%22block%22%7D)%7D%3Bn%3DObject.keys(n).sort()%3Bp%3DObject.keys(p).sort()%3Bq%3DObject.keys(q)%3Bvar%20c%3Ddocument.createElement(%22div%22)%3Bc.id%3D%22_eventSearchForm%22%3Bvar%20h%3Ddocument.createElement(%22label%22)%3Bh%5B%22for%22%5D%3D%22_nameFilter%22%3Bh.innerHTML%3D%22%3Cb%3EGame%3A%20%3C%2Fb%3E%22%3Bc.appendChild(h)%3Bvar%20u%3Dg(n)%3Bu.onchange%3Dl%3Bc.appendChild(u)%3Bh%3Ddocument.createElement(%22label%22)%3Bh%5B%22for%22%5D%3D%22_startFilter%22%3Bh.innerHTML%3D%22%3Cb%3EStarting%3A%20%3C%2Fb%3E%22%3Bc.appendChild(h)%3Bvar%20w%3Dg(q)%3Bw.onchange%3Dl%3Bc.appendChild(w)%3Bh%3Ddocument.createElement(%22label%22)%3Bh%5B%22for%22%5D%3D%22_vttFilter%22%3Bh.innerHTML%3D%22%3Cb%3EVTT%3A%20%3C%2Fb%3E%22%3Bc.appendChild(h)%3Bvar%20v%3Dg(p)%3Bv.onchange%3Dl%3Bc.appendChild(v)%3Bvar%20m%3Ddocument.createElement(%22input%22)%3Bm.id%3D%22_evtToggleSoldOut%22%3Bm.type%3D%22checkbox%22%3Bg%3Ddocument.createElement(%22label%22)%3Bg.innerHTML%3D%22%3Cb%3EHide%20Sold%20Out%3A%20%3C%2Fb%3E%22%3Bg%5B%22for%22%5D%3D%22_evtToggleSoldOut%22%3Bm.addEventListener(%22change%22%2Cl)%3Bc.appendChild(g)%3Bc.appendChild(m)%3Bc.appendChild(document.createElement(%22br%22))%3Bvar%20t%3Ddocument.createElement(%22input%22)%3Bt.id%3D%22_eventSearchText%22%3Bg%3Ddocument.createElement(%22label%22)%3Bg%5B%22for%22%5D%3D%22_eventSearchText%22%3Bg.innerHTML%3D%22%3Cb%3EFull%20Text%20Search%3A%20%3C%2Fb%3E%22%3Bt.addEventListener(%22input%22%2Cl)%3Bc.appendChild(g)%3Bc.appendChild(t)%3Bl%3Ddocument.createElement(%22span%22)%3Bl.innerHTML%3D'%26nbsp%3B%26nbsp%3Ca%20href%3D%22https%3A%2F%2Fgithub.com%2Fgludington%2Fyawningportalsearch%22%3EYP%20Search%20Bookmarklet%3C%2Fa%3E%2C%20V1.1'%3Bc.appendChild(l)%3Bx.parentNode.insertBefore(c%2Cx)%7D%7D)()%3Bvoid+0">Yawning Portal Search</a> to your browser toolbar</p>
    <p>If you have set up your browser not to show the bookmarks toolbar, you can open up your bookmark manager and paste the bookmarket code, but its simpler to show
      the toolbar, drag it in, and then hide it again if you really do not like seeing it.</p>
    <p>To use:</p>
    <ul>
      <li>Go to the <a href="https://yawningportal.dnd.wizards.com/">WoTC's Yawning Portal Page</a></li>
      <li>Click on one of the links under "Register for Games Below"</a></li>
      <li>Wait for the page to load</li>
      <li>Click on the bookmarklet you installed</li>
    </ul>
<p>And see the search form above the list of events:</p>
<img src="ypsearch.png"/>
<p>Happy Searching</p>
</body>
</html>
