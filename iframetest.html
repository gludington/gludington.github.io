<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<script>
function showHelp() {
	var ameliaFrame = document.getElementById('ameliaFrame');
	ameliaFrame.src=document.getElementById('baseUi').value;
	ameliaFrame.style.height=document.getElementById('height').value + 'px';
	ameliaFrame.style.width=document.getElementById('width').value + 'px';
	ameliaFrame.style.visibility="block";

	base = document.getElementById('baseUi').value;
}

</script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

<script>
console.log('jquery', $);
var base;
function MyFunction() {
 var receiverElemContentWindow = document.getElementById('ameliaFrame').contentWindow;
    receiverElemContentWindow.postMessage({actionType: 'ameliaSay', actionData: 'aloha'}, base);
};
</script>
<body><h2>Amelia in an iframe test</h2> 
<p>We are trying to display the following link in the iframe: 
	<br/>
Version: <input id="baseUi" size="100" value="https://localhost:9000/chat?embed=iframe&domainCode=global&attrib_urlPath=mainPage"/> (make sure to have embed=iframe)
<br/>
Width : <input id="width" value="320"/>
<br/>
Height: <input id="height" value="600"/>
<ul>
<li><a onclick="showHelp();" href="#">Open Iframe</a></li>
</ul>
<ul>
<li><a onclick="MyFunction()" href="#">Post Aloha</a></li>
</ul>
<div style="float:right;clear:right"><iframe id="ameliaFrame" 
	sandbox="allow-same-origin allow-scripts allow-popups allow-top-navigation allow-forms allow-modals" autoplay; camera; microphone;" style="width:0px;height:0px;visibility:none"></iframe></div>
<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ornare lectus sit amet est placerat. Lacinia quis vel eros donec ac. Elementum sagittis vitae et leo duis ut. Lectus quam id leo in vitae turpis. Morbi tristique senectus et netus et. Sodales ut eu sem integer vitae justo eget magna fermentum. Vel eros donec ac odio tempor. Tempor commodo ullamcorper a lacus vestibulum sed arcu non odio. Sagittis orci a scelerisque purus semper. Dictum fusce ut placerat orci nulla pellentesque. Vestibulum sed arcu non odio euismod lacinia at. In fermentum et sollicitudin ac orci phasellus egestas. Ac turpis egestas sed tempus urna et pharetra pharetra. Aenean euismod elementum nisi quis.</p>

<p>Lacus sed turpis tincidunt id. Nec feugiat in fermentum posuere urna nec. Tellus cras adipiscing enim eu turpis egestas pretium aenean pharetra. Sed faucibus turpis in eu mi bibendum neque egestas. Leo in vitae turpis massa sed elementum tempus egestas. Ac ut consequat semper viverra nam libero justo laoreet sit. Mattis enim ut tellus elementum sagittis vitae. Viverra maecenas accumsan lacus vel facilisis volutpat est velit egestas. Nullam ac tortor vitae purus faucibus ornare. Metus aliquam eleifend mi in. Bibendum arcu vitae elementum curabitur vitae nunc. Dignissim sodales ut eu sem. Nec feugiat in fermentum posuere urna nec tincidunt praesent. Non diam phasellus vestibulum lorem sed risus ultricies. In iaculis nunc sed augue lacus viverra. Iaculis at erat pellentesque adipiscing. Diam quam nulla porttitor massa. Cras adipiscing enim eu turpis egestas pretium aenean. Magnis dis parturient montes nascetur ridiculus.</p>

<p>In egestas erat imperdiet sed euismod. Arcu non odio euismod lacinia at quis risus sed vulputate. Consequat mauris nunc congue nisi vitae. Ut consequat semper viverra nam libero justo laoreet sit amet. Facilisis mauris sit amet massa vitae. Accumsan lacus vel facilisis volutpat est velit egestas dui. Vestibulum rhoncus est pellentesque elit ullamcorper dignissim. Arcu odio ut sem nulla pharetra diam. Mauris commodo quis imperdiet massa tincidunt nunc pulvinar sapien. Adipiscing enim eu turpis egestas pretium. Urna et pharetra pharetra massa. Sed viverra tellus in hac habitasse platea dictumst.</p>

<p>Donec massa sapien faucibus et molestie ac feugiat sed. Mauris pellentesque pulvinar pellentesque habitant morbi tristique senectus et. Pharetra pharetra massa massa ultricies mi quis hendrerit dolor. Et sollicitudin ac orci phasellus egestas. Egestas pretium aenean pharetra magna ac placerat. Neque sodales ut etiam sit. Vestibulum lectus mauris ultrices eros in cursus turpis. Proin sed libero enim sed faucibus. Potenti nullam ac tortor vitae purus faucibus ornare. Felis donec et odio pellentesque diam volutpat commodo. Adipiscing enim eu turpis egestas pretium aenean pharetra. Erat nam at lectus urna. At erat pellentesque adipiscing commodo elit at. Nec dui nunc mattis enim ut tellus elementum sagittis vitae. Consequat interdum varius sit amet mattis vulputate. Consectetur adipiscing elit duis tristique.</p>

<p>Sed vulputate mi sit amet mauris commodo. Convallis convallis tellus id interdum velit. Imperdiet proin fermentum leo vel orci porta non. Nisi porta lorem mollis aliquam ut porttitor leo a diam. Eu tincidunt tortor aliquam nulla facilisi cras fermentum odio eu. Nascetur ridiculus mus mauris vitae ultricies leo. Enim diam vulputate ut pharetra sit amet. Pellentesque habitant morbi tristique senectus et. Etiam tempor orci eu lobortis elementum. Est placerat in egestas erat. Amet purus gravida quis blandit. Netus et malesuada fames ac turpis egestas maecenas pharetra convallis. Sit amet nulla facilisi morbi tempus iaculis urna.</p>

<p>If you click the link above, you should be able to chat with Amelia directly, while the iFrame below isn't working properly - generating page errors + displaying a log in prompt that is not working. <br /> (Tested with Chrome, Firefox, Edge)</p>


</body> </html>
